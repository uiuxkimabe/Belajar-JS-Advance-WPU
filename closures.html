<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closures</title>
</head>
<body>
    <script>

        // Closure a/ function ketika memiliki akses ke parent scopenya. meskipun parent scopenya sudah dieksekusi
        // CLosure itu menggunakan lexical scope (membutuhkan variable dari parentnya)
        // Eksekusi akan di ambil nilai terakhir

        function init() {
        //   let nama = 'Kiki';
            function tampilNama(nama) {
                console.info(nama);
            }

            // tampilNama()
            return tampilNama // me return sebuah function tanpa tanda kurung
        }

        // let calling = init()
        // calling('Kiki')

        // Lebih di persingkat 

        function init() {
            return (nama)=> console.info(nama)
        }

        let calling = init()
        calling('Abah')
        calling('Aceng')

        // Factory Function
        // Seperti private method yang hanya bisa di panggil di dalam parentnya (local scope) 

        // function ucapkanSalam(waktu) {
        //     return (nama)=> console.info(`Hallo ${nama}, Selamat ${waktu}, semoga menyenagkan harimu`)
        // }

        // let morning = ucapkanSalam('Pagi') // otomatis menjadi function
        // let noon = ucapkanSalam('Sore')
        // let night = ucapkanSalam('Malam')

        // console.info(morning('Ilham'))
        // console.info(noon('sukma'))
        // console.info(night('raya'))


        // Contoh Lain Factory Function
        
        // let dzikir = (function(){
        //     let counter = 0;
        //     return function(){
        //         return ++counter
        //     }
        // })();

        // counter = 10

        // console.info(dzikir())
        // console.info(dzikir())
        // console.info(dzikir())
        // console.info(dzikir())
        // console.info(dzikir())
        // console.info(dzikir())
        // console.info(dzikir())

        let increment = (function () {
            let counter = 0;
            return function() {
                return ++counter
            }
        })()

        // let callingI = increment()

        console.info(increment())
        console.info(increment())
        console.info(increment())

    </script>
</body>
</html>